# CLAUDE.md - AI Assistant Guide for Bible Repository

> This document provides context and guidelines for AI assistants working with this codebase.

## Project Overview

**Repository:** Bible
**Type:** Cross-platform mobile application (Web + iOS + Android)
**Tech Stack:** Web app with Capacitor wrapper
**Development Model:** AI-driven development with human oversight

## Development Philosophy

This project follows an **AI-assisted development model**:

| Role | Responsibility |
|------|----------------|
| **Human Developer** | Infrastructure decisions, architecture, code review, approval |
| **AI Assistant** | Implementation details, writing code, following specifications |

### Key Principles

1. **AI writes all code** - Implementation is handled entirely by AI
2. **Human reviews everything** - All code must be reviewed and approved before merging
3. **Human decides architecture** - Infrastructure, tech choices, and design patterns are human decisions
4. **AI executes the vision** - AI implements according to specifications provided

## Tech Stack

### Core Technologies

- **Frontend:** Web-based (framework TBD by architect)
- **Mobile Wrapper:** [Capacitor](https://capacitorjs.com/) for iOS and Android
- **Language:** TypeScript (strict mode)

### Capacitor Structure

```
Bible/
├── CLAUDE.md              # AI assistant guidelines (this file)
├── README.md              # Project documentation
├── package.json           # Dependencies and scripts
├── capacitor.config.ts    # Capacitor configuration
├── src/                   # Web application source
│   ├── components/        # UI components
│   ├── pages/             # Page/screen components
│   ├── services/          # Business logic and API calls
│   ├── utils/             # Utility functions
│   ├── hooks/             # Custom hooks (if using React)
│   ├── styles/            # Global styles
│   └── main.ts            # Entry point
├── public/                # Static assets
├── ios/                   # iOS native project (generated by Capacitor)
├── android/               # Android native project (generated by Capacitor)
├── tests/                 # Test files
└── dist/                  # Build output (synced to native projects)
```

## Development Workflow

### AI-Human Collaboration Flow

```
1. Human defines requirement/feature
         ↓
2. AI proposes implementation approach (if complex)
         ↓
3. Human approves or adjusts approach
         ↓
4. AI implements the code
         ↓
5. Human reviews the code
         ↓
6. AI addresses feedback if needed
         ↓
7. Human approves and merges
```

### Git Branching Strategy

- **Main branch:** Production-ready, human-approved code only
- **Feature branches:** `feature/<description>` or `claude/<description>-<session-id>`
- **Bugfix branches:** `fix/<description>`

### Commit Message Conventions

Follow conventional commits:
- `feat:` New features
- `fix:` Bug fixes
- `docs:` Documentation changes
- `refactor:` Code refactoring
- `test:` Test additions/modifications
- `chore:` Maintenance tasks
- `style:` Formatting, no code change
- `perf:` Performance improvements

Example: `feat(auth): add biometric login for mobile`

## Code Style and Conventions

### General Principles

1. **Readability over cleverness** - Write code humans can easily review
2. **Explicit over implicit** - Make intentions clear
3. **Small, focused functions** - Easy to understand and test
4. **Consistent patterns** - Follow established patterns in the codebase

### Naming Conventions

| Type | Convention | Example |
|------|------------|---------|
| Files | kebab-case | `user-service.ts` |
| Components | PascalCase | `UserProfile.tsx` |
| Functions | camelCase | `getUserById()` |
| Constants | UPPER_SNAKE_CASE | `MAX_RETRY_COUNT` |
| Types/Interfaces | PascalCase | `UserProfile` |
| CSS classes | kebab-case | `user-profile-card` |

### TypeScript Guidelines

- **No `any`** - Use proper types or `unknown` with type guards
- **Interfaces for objects** - Define clear contracts
- **Strict mode enabled** - Catch errors at compile time
- **Explicit return types** - For public functions

### Mobile-Specific Guidelines

- **Responsive design** - Support various screen sizes
- **Touch-friendly** - Minimum 44x44px touch targets
- **Offline consideration** - Handle network unavailability gracefully
- **Platform awareness** - Use Capacitor's platform detection when needed

## Commands Reference

### Development
```bash
# Install dependencies
npm install

# Run web development server
npm run dev

# Build for production
npm run build
```

### Capacitor Commands
```bash
# Add iOS platform
npx cap add ios

# Add Android platform
npx cap add android

# Sync web build to native projects
npx cap sync

# Open iOS project in Xcode
npx cap open ios

# Open Android project in Android Studio
npx cap open android

# Run on device/emulator
npx cap run ios
npx cap run android
```

### Testing
```bash
# Run all tests
npm test

# Run tests in watch mode
npm run test:watch

# Run tests with coverage
npm run test:coverage
```

### Linting
```bash
# Run linter
npm run lint

# Fix linting issues
npm run lint:fix
```

## AI Assistant Guidelines

### Before Starting Any Task

1. **Read existing code** - Understand current patterns and structure
2. **Check CLAUDE.md** - Follow documented conventions
3. **Ask if unclear** - Request clarification on architectural decisions

### When Implementing Features

1. **Follow specifications exactly** - Don't add unrequested features
2. **Match existing patterns** - Consistency is key for review
3. **Keep changes minimal** - Easier to review smaller changes
4. **Comment complex logic** - Help the reviewer understand intent
5. **Consider mobile context** - Remember this runs on phones

### Code Quality Checklist

Before submitting code for review:
- [ ] Follows project conventions and patterns
- [ ] No hardcoded secrets or credentials
- [ ] Proper error handling implemented
- [ ] Works on web, iOS, and Android
- [ ] Responsive design considered
- [ ] TypeScript strict mode passes
- [ ] Tests added for new functionality

### Things AI Must NOT Do

- Make architectural decisions without human approval
- Add dependencies without explicit permission
- Change project structure without approval
- Skip error handling
- Use `any` type in TypeScript
- Ignore mobile/cross-platform considerations
- Over-engineer beyond requirements

### Things AI Should Always Do

- Write clean, reviewable code
- Follow existing patterns exactly
- Ask for clarification when requirements are ambiguous
- Consider edge cases and error states
- Test on all platforms when relevant
- Document non-obvious implementation choices

## Architecture Decisions

*Documented by the human architect as decisions are made.*

### Decision Log

| Date | Decision | Rationale | Decided By |
|------|----------|-----------|------------|
| 2026-01-26 | AI-driven development model | Leverage AI for implementation while maintaining human oversight | Architect |
| 2026-01-26 | Capacitor for mobile | Single codebase for web, iOS, Android | Architect |

## Environment Setup

### Prerequisites

- Node.js (LTS version)
- npm or yarn
- For iOS: macOS with Xcode
- For Android: Android Studio with SDK

### Local Development Setup

```bash
# Clone repository
git clone <repository-url>
cd Bible

# Install dependencies
npm install

# Start development server
npm run dev
```

### Mobile Development Setup

```bash
# Build web app
npm run build

# Sync to native projects
npx cap sync

# For iOS (requires macOS)
npx cap open ios

# For Android
npx cap open android
```

## Project Dependencies

*To be documented as dependencies are added by architect decision.*

### Core Dependencies (Planned)
- Capacitor core and plugins
- Web framework (TBD)
- State management (TBD)
- UI component library (TBD)

## Troubleshooting

### Common Issues

*To be documented as issues are encountered.*

### Capacitor-Specific Issues

- **Sync issues:** Run `npx cap sync` after any web build
- **Plugin not working:** Ensure native project is rebuilt after adding plugins
- **iOS build fails:** Check Xcode signing and provisioning profiles
- **Android build fails:** Verify SDK versions and Gradle sync

## Resources

- [Capacitor Documentation](https://capacitorjs.com/docs)
- [Capacitor Plugins](https://capacitorjs.com/docs/plugins)
- [iOS Development Guide](https://capacitorjs.com/docs/ios)
- [Android Development Guide](https://capacitorjs.com/docs/android)

---

*Last updated: 2026-01-26*
